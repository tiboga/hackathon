{% extends 'base.html' %}

{% block title %}Главная{% endblock %}

{% block content %}
<head>
    <title>Math Examples</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
        }
        #mathExample {
            font-size: 24px;
            margin-top: 20px;
        }
        #answer {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Math Examples</h1>
    <div id="mathExample"></div>
    <input type="text" id="userAnswer" placeholder="Enter your answer">
    <br>
    <button onclick="generateNewExample()">Next</button>
    <button onclick="checkAnswer()">Check</button>
    <button onclick="skipExample()">Skip</button>

    <script>
        let currentExample;
        let correctAnswer;

        function generateNewExample() {
            let difficulty = Math.floor(Math.random() * 3); // 0 - easy, 1 - medium, 2 - hard

            switch (difficulty) {
                case 0:
                    currentExample = generateEasyExample();
                    break;
                case 1:
                    currentExample = generateMediumExample();
                    break;
                case 2:
                    currentExample = generateHardExample();
                    break;
            }

            document.getElementById("mathExample").innerText = currentExample;
        }

        function generateEasyExample() {
            let number1 = Math.floor(Math.random() * 10);
            let number2 = Math.floor(Math.random() * 10);
            correctAnswer = number1 + number2;
            return ${number1} + ${number2};
        }

        function generateMediumExample() {
            let number1 = Math.floor(Math.random() * 10);
            let number2 = Math.floor(Math.random() * 10);
            correctAnswer = number1 * number2;
            return ${number1} * ${number2};
        }

        function generateHardExample() {
            let a = Math.floor(Math.random() * 5) + 1;
            correctAnswer = -a;
            return x^2 + ${a}x + ${a} = 0;
        }

        function checkAnswer() {
            let userAnswer = document.getElementById("userAnswer").value;

            if (parseInt(userAnswer) === correctAnswer) {
                alert("Correct!");
            } else {
                alert("Incorrect. The correct answer is: " + correctAnswer);
            }
        }

        function skipExample() {
            generateNewExample();
        }

        generateNewExample();
    </script>
</body>
{% endblock %}